<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Ù…Ø­Ù…Ù„ Ø§Ù„ÙˆØ³Ø§Ø¦Ø· - ØªÙ†Ø²ÙŠÙ„ ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª ÙˆØ£ØºØ§Ù†ÙŠ</title>

  <!-- GoogleÂ AdSense -->
  <meta name="google-adsense-account" content="ca-pub-7999209256244874" />
  <script async src="https://pagead2.googlesyndication.com/pagead/js?client=ca-pub-7999209256244874" crossorigin="anonymous"></script>

  <style>
    body{font-family:'Cairo',sans-serif;background:#f3f4f6;color:#111827;margin:0}
    header,footer{background:#2563eb;color:#fff;padding:20px;text-align:center}
    main{max-width:720px;margin:auto;padding:20px}
    section{background:#fff;padding:20px;border-radius:10px;margin-bottom:20px;box-shadow:0 2px 6px rgba(0,0,0,.1)}
    input,select,button{width:100%;padding:12px;margin-top:10px;border:1px solid #ccc;border-radius:6px;font-size:16px}
    button{background:#2563eb;color:#fff;border:none;cursor:pointer}
    button:hover{background:#1d4ed8}
  </style>
</head>
<body>
  <header>
    <h1>ğŸ“¥ Ù…Ø­Ù…Ù„ Ø§Ù„ÙˆØ³Ø§Ø¦Ø·</h1>
    <p>Ø­Ù…Ù‘Ù„ ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª Ø£Ùˆ Ø£ØºØ§Ù†ÙŠ Ù…Ø¨Ø§Ø´Ø±Ø© Ù…Ù† ÙŠÙˆØªÙŠÙˆØ¨</p>
  </header>

  <main>
    <!-- ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØª -->
    <section>
      <h2>ğŸµ ØªØ­Ù…ÙŠÙ„ Ø£ØºÙ†ÙŠØ© (MP3)</h2>
      <input type="text" id="audioUrl" placeholder="Ø£Ø¯Ø®Ù„ Ø±Ø§Ø¨Ø· Ø§Ù„ÙÙŠØ¯ÙŠÙˆ"/>
      <button onclick="download('audio')">ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£ØºÙ†ÙŠØ©</button>
    </section>

    <!-- ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ -->
    <section>
      <h2>ğŸ¥ ØªØ­Ù…ÙŠÙ„ ÙÙŠØ¯ÙŠÙˆ</h2>
      <input type="text" id="videoUrl" placeholder="Ø£Ø¯Ø®Ù„ Ø±Ø§Ø¨Ø· Ø§Ù„ÙÙŠØ¯ÙŠÙˆ"/>
      <label>Ø§Ø®ØªØ± Ø§Ù„Ø¬ÙˆØ¯Ø©:</label>
      <select id="videoQuality">
        <option value="highestvideo">Ø£Ø¹Ù„Ù‰ Ø¬ÙˆØ¯Ø©</option>
        <option value="22">720p</option>  <!-- itag 22 progressive -->
        <option value="135">480p</option> <!-- itag 135 videoâ€‘only -->
        <option value="18">360p</option>  <!-- itag 18 progressive -->
      </select>
      <button onclick="download('video')">ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ</button>
    </section>
  </main>

  <!-- Ø¥Ø¹Ù„Ø§Ù† Ø£ÙÙ‚ÙŠ -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-7999209256244874"
       data-ad-slot="9117689493"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>(adsbygoogle=window.adsbygoogle||[]).push({});</script>

  <footer>
    &copy;Â 2025Â Ù…Ø­Ù…Ù„ Ø§Ù„ÙˆØ³Ø§Ø¦Ø·Â |Â TMGWEB
  </footer>

  <script>
    // Ø±Ø§Ø¨Ø· Ø®Ø§Ø¯Ù…Ùƒ Ø¹Ù„Ù‰ Render
    const API = "https://video-api-service.onrender.com";

    // Ø¯Ø§Ù„Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¹Ø§Ù…Ø©
    async function download(type){
      const urlField = type==="audio" ? "audioUrl" : "videoUrl";
      const url = document.getElementById(urlField).value.trim();
      const quality = document.getElementById("videoQuality").value;

      if(!url){alert("âš ï¸ Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ø§Ø¨Ø· ØµØ­ÙŠØ­"); return;}

      try{
        const res = await fetch(API+"/download",{
          method:"POST",
          headers:{"Content-Type":"application/json"},
          body:JSON.stringify({url,type,quality})
        });
        if(!res.ok) throw new Error("ÙØ´Ù„ Ø§Ù„ØªØ­Ù…ÙŠÙ„");

        const blob = await res.blob();
        const a = document.createElement("a");
        a.href = URL.createObjectURL(blob);
        a.download = type==="audio" ? "audio.mp3" : "video.mp4";
        a.style.display="none";
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(a.href);
      }catch(e){
        alert("âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„ØªØ­Ù…ÙŠÙ„ØŒ ØªØ£ÙƒØ¯ Ù…Ù† ØµØ­Ø© Ø§Ù„Ø±Ø§Ø¨Ø·.");
        console.error(e);
      }
    }
  </script>
</body>
</html>
